

# 一、计算机必修课

## 1、计算机组成原理

### 1.1、数据表示与校验码

#### 1.1.1、数据表示w

各种数据在计算机表示的形式称为机器数，数的符号用0，1表示

机器数对应的实际数值称为该数的真值，机器数又分为有符号数和无符号数

- 有符号数：最高位表示正、负的符号位（0正1负），其余的二进制位表示数值，可采用原码、反码、补码等编码方法

- 无符号数：一个字节8个位都表示数值，范围就是(0~ 2<sup>8 </sup>-1） （为啥-1？是因为最低位从第0位开始，2<sup>8</sup>-1 = 11111111）

##### 1.1.1.1、原、反、补、移码

1、原码 （正数的原、反、补都相同）

- 优点：实现乘除运算简单

- 缺点：实现加减运算复杂

2、反码（符号位为1，其它按位取反）

3、补码（符号位为1，其它按位取反）

4、移码（无论正负，只将补码的符号位取反即可）

定义：在数X上增加一个偏移量

##### 1.1.1.2、定点数与浮点数

1、定点数：小数点的位置固定不变的数（定点小数和定点整数）

2、浮点数：小数点位置不固定，可表示的范围更大（若超出可表示范围，则称溢出）

​     浮点数： N = M*R<sup>E</sup>  

//其中M是带符号的纯小数，E为阶码(通常为带符号的纯整数)



#### 1.1.2、校验码

作用：差错和纠错

1、奇偶校验

- 奇校验：数据与校验位，若它们所含1的个数为奇数，则正确
- 偶校验：数据位与校验位，若它们所含1的个数为偶数，则正确

2、海明码：在n个数据为间插入k个校验位，必须满足2<sup>k</sup>-1&geq; n+k

若 k=4，则校验位分别为1、2、4、8，确定了序号

3、循环冗余校验码(CRC)：k个数据位后产生r个校验位



### 1.2、计算机系统硬件组成

#### 1.2.1、计算机系统硬件基本组成

基本硬件由**运算器**、**控制器**、存储器、输入设备和输出设备五大部分组成

中央处理器(CPU) = 运算器 + 控制器

存储器 = 内存储器(内存) + 外存储器(硬盘)

外设 = 输入设备 + 输出设备



#### 1.2.2、中央处理器

##### 1.2.2.1、CPU的组成

**CPU**主要是由运算器、控制器、寄存器组和内部总线等部件组成

CPU的主要功能：有指令控制、操作控制、时间控制和数据加工

**1、运算器：**

组成成分：由ALU、累加寄存器、数据缓冲寄存器和状态条件寄存器组成

运算器的主要功能：

- 算数运算
- 逻辑运算

关于运算器的各组成部件及其功能：

- 算术逻辑单元(ALU)：ALU，负责处理数据，实现对数据的算术运算和逻辑运算

- 累加寄存器(AC)：AC通常简称为累加器，它的功能是当ALU执行算数运算与逻辑运算时，AC为ALU提供工作区

- 数据缓冲寄存器(DR)：用DR暂时存放由内存读写的一条指令或一个数据字

- 状态条件寄存器(PSW)：PSW用来保存由算术运算和逻辑运算后产生的控制标志和状态标志

**2、控制器**

运算器只能完成运算，而控制器用于控制整个CPU工作，控制器一般包括指令控制逻辑、时序控制逻辑、总线控制逻辑和终端控制逻辑等几部分。

- 指令寄存器(IR)：当CPU执行一条指令时，先把它从内存读到DR，再然后从DR放到IR，供ID使用
- 程序计数器(PC)：PC具有寄存信息和计数两个功能，程序未执行时，先将程序首地址送入PC，往后PC+1，也即PC总是指向下一个将要执行的指令的首地址

- 地址寄存器(AR)：AR保存当前CPU所访问的内存单位的地址，由于CPU与内存操作速度上有差异，故需要使用AR保存地址信息

- 指令译码器(ID)：指令分为操作码和地址吗两部分，ID通过对操作码分析，进而完成所需功能

3、寄存器组

寄存器组分为专用寄存器和通用寄存器，运算器和控制器中的寄存器为专用寄存器，作用是固定的，但通用寄存器的作用不固定，由程序员定义。



##### 1.2.2.2、多核CPU

多核则指再一个芯片上集成多个处理器内核，每个内核与单核处理器的内核一样结构完整



#### 1.2.3、网卡(网口)

作用：连接网络用的，如果电脑有线网卡和无线网卡都坏了，那绝对没办法再连上网络了

有线网卡：电脑与RJ-45水晶头等介质连接的网络接口

无线网卡：一般笔记本电脑和手机都有无线网卡，这样才能连wifi，台式电脑一般主板里面没有无线网卡，所以无法连wifi

Q：如何查看网卡的地址（网卡的地址包含物理地址 和 IP地址）？

A：ipconfig，**MAC地址即是当前电脑网卡**的地址了，可以有许多种叫法，如下

- MAC地址
- 局域网地址（LAN Address）
- 以太网地址（Ethernet Address）
- 物理地址（Physical Address）

//每个网卡都会有与之对应的MAC地址，全球唯一（48位）



#### 1.2.4、显卡（GPU）

作用：连接显示器用的，渲染3D画面、图像  //一般说掉帧就是显卡太差了

特征：台式的带两个大风扇、煤气灶似的

分类：集成显卡和独立显卡

集成显卡：大部分CPU自带一个核心显卡，CPU送的，与CPU集成在一起，所以叫集成显卡。

独立显卡：单独一个显卡。//所以独显会贵一点，一般买了独显的话，那么电脑就会有两个显卡 （集显 + 独显）



#### 1.2.5、内存条

软件测性能：CPI-Z，可以通过它来看自己电脑内存的类型(DDR3或DDR4)以及支持的最大频率，内存频率*2，所以不是越高越好，关键看电脑支不支持。

内存条的性能比较主要是看：频率 + 类型(一般是DDR3或DDR4)

常用大牌：金斯顿、威刚、海盗船、三星

Q：DDR3和DDR4的区别在哪?

A：下方的金手指数量不一样，DDR4更多，它的起始频率和最高频率更高



#### 1.2.6、硬盘

常用大牌：西部数据、东芝、三星、希捷

硬盘的分类：

- 机械硬盘：读写速度 80-120MB/s   有转速的概念 5400/7200
- 固态硬盘：SATA4、M.2（笔记本目前最好的，速度非常快。1200MB/S）
- 移动硬盘：



#### 1.2.7、屏幕

看两点：分辨率、刷新率

**分辨率：**屏幕是由一个个的像素点组成的，相关的参数有：480p、720p、1080p(1920 * 1080)、2K(2048 * 1080)、4K(4096 * 2160)   //p就是逐行扫描，i就是隔行扫描

//屏幕大小不变，如果分辨率提高，那么图像清晰

刷新率：单位是Hz



刷新率





### 1.3、存储系统

#### 1.3.1、存储器的层次结构

三层存储体系结构：高速缓存(Cache)、主存和辅存(外存)，如果CPU也堪称存储器的一个层次的话，即为4层



#### 1.3.2、存储器分类

##### 1.3.2.1、按位置分类

按位置分类，可分为主存和外存

- 内存：用来存储当前运行所需要的程序和数量，速度快，容量小

- 外存：用来存储当前不参与运行的数据，容量大但速度慢

##### 1.3.2.2、按材料分类

存储器按材料分类，可分为磁存储器、半导体存储器、光存储器

- 磁存储器：用磁性介质做成，如磁盘、磁带

- 半导体存储器：分为双极型和MOS型两类，根据是否需要刷新又分为静态和动态两类

- 光存储器：由光学、电学、机械部件等组成，如光盘存储器

##### 1.3.2.3、按工作方式分类

按工作方式分类，可分为读写存储器和只读存储器

- 读写存储器(RAM)：既能读又能写的存储器
- 只读存储器(ROM)：根据数据写入方式，又可细分为固定只读存储器，可编程只读存储器......

##### 1.3.2.4、按访问方式分类

按访问方式，可分为按地址访问和按内容访问

##### 1.3.2.5、按寻址方式分类

按寻址方式分类，可分为随机存储器、顺序存储器和直接存储器

- 随机存储器(RAM)：

- 顺序存储器(SAM)：例:磁带(访问数据所需时间与数据的存储位置有关)

- 直接存储器(DAM)：介于随机与顺序之间的一种



#### 1.3.3、相联存储器

相联存储器是一种按内容访问的存储器，根据关键字与存储器对比



#### 1.3.4、高速缓存

高速缓存(Cache)是位于CPU与主存之间的高速存储子系统，采用高速缓存的主要目的是提高存储器的平均速度，Cache的存在对程序员是透明的，其地址变换和数据块的替换算法均由硬件实现

主要特点：容量小、速度快、成本高

##### 1.3.4.1、Cache的组成

Cache由两部分组成：控制部分和Cache存储器部分

- Cache存储器部分：用来存放主存的部分复制信息，

- 控制部分：判断CPU要访问的信息是否存在于Cache存乎其，若在即为命中，未命中时，要按照替换算法，决定主存的某一块信息放到Cache的哪一块中。

##### 1.3.4.2、Cache中的地址映像方法

Cache中的地址映像：将内存的地址映射成Cache存储器的地址

地址映像的方法有三种：直接映像、全相联映像和组相联映像

- 直接映像：就是主存的块与Cache中块的对应关系是固定的，优点:地址变换简单,缺点:灵活性差

- 全相联映像：允许主存的任一块可以调入Cache的任一块的空间，

  ​          优点:主存的块调入Cache的位置不受限制，十分灵活

  ​		  缺点:无法从主存块号直接获得Cache的块号，变换比较复杂，速度比较慢

- 组相联映像：是直接与全相联的折衷，在块中分组

##### 1.3.4.3、替换算法

选择替换算法的目标是使Cache获得最高的命中率

常用的替换算法有几种：随机替换、先进先出、近期最少使用、优化替换

#### 1.3.5、虚拟存储器

特点：大小取决于访存能力

虚拟存储器是由主存、辅存、存储管理单元及操作系统中的存储管理软件组成的存储系统

虚拟存储器的空间大小取决于计算机的方寸能力而不是实际外存的大小

地址映像以块为单位，而在虚拟存储器中，地址映像以页为单位

POI SXSSF

#### 1.3.6、外存储器

外存由磁表面存储器(如磁盘、磁带)及光盘存储器构成

##### 1.3.6.1、磁盘存储器

磁盘存储器由盘片、驱动器、控制器和接口组成

磁盘容量有两种指标：非格式化容量(可用)和格式化容量(已用)

##### 1.3.6.2、光盘存储器

光盘存储器的类型：只读型光盘，只写一次性光盘和可擦除型光盘

光盘存储器的组成及特点：造价低，但存取时间较长



#### 1.3.7、磁盘阵列技术

磁盘阵列可由多台磁盘存储器组成



### 1.4、输入/输出技术

#### 1.4.1、常见的内存与接口的编制方式

##### 1.4.1.1、内存与接口地址独立的编制方法

内存与接口的编制方式：

- 独立编制
- 统一编制

独立编制：

- 优点：编程序和都程序时很易使用和辨认
- 缺点：用于接口的指令太少，功能太弱

统一编制：

- 优点：原则上用于内存的指令全部可以用于接口

- 缺点：地址空间被分为两部分，这经常会导致内存地址不连续



#### 1.4.2、CPU与外设之间的数据传送方式

##### 1.4.2.1、直接程序控制方式

整个输入/输出过程是在CPU执行程序的控制下完成的，这种方法还可以分为以下两种

1. 无条件传送方式：无条件地与CPU交换数据
2. 程序查询方式：先通过CPU查询外设状态，准备号之后再与CPU交换数据。

- 优点：思想易于理解
- 缺点：降低了CPU的效率。对外部的突发事件无法做出实时响应

##### 1.4.2.2、中断方式

中断方式利用终端机制，使I/O系统在与外设交换数据时，CPU无须等待，也不必查询I/O状态，即可以抽身出来处理其他任务，因此提高了系统效率

1. 终端处理方法：中断信号线法、中断软件查询法、菊花链法、总线仲裁法、中断向量表法

2. 中断优先级控制：

- 当不同优先级的多个中断源同时提出中断请求时，CPU应优先响应优先级最高的中断源

- 当CPU正在为某一个中断源服务时，若有更高优先级的中断源提出中断请求，CPU则需暂停当前，执行更高优先级的中断源服务，高的执行完后再执行低的。

##### 1.4.2.3、直接存储器存取方式(DMA)

DMA方式是在存储器与I/O设备间直接传送数据，即在内存与I/O设备之间传送一个数据块的过程中，不需要CPU的任何干涉，是一种完成由DMA硬件完成I/O操作的方式

##### 1.4.2.4、输入/输出处理机(IOP)

IOP是一个专用处理机，IOP根据主机的I/O命令，完成对外设数据的输入/输出

它的数据传送方式有三种：字节多路方式、选择传送方式和数组多路方式



### 1.5、总线结构

#### 1.5.1、总线的定义与分类

定义：任何连接两个以上电子元器件的导线都可以称为总线

1. 内部总线

- 芯片内总线：芯片内部各部分的连接

- 元件级总线：一块电路板内各元器件的连接

2. 系统总线：CPU、内存和接口等的连接  

3. 外部总线(通信总线)：主机与外设之间   



#### 1.5.2、系统总线

常用的有:ISA、EISA、PCI



#### 1.5.3、外部总线

常用的有:RS-232-C、SCSI、USB、IEEE-1394



### 1.6、指令系统

#### 1.6.1、指令系统简介

指令系统指的是一个CPU所能够处理的全部指令的集合，是一个CPU的根本属性

一条指令一般包括两个部分：操作码和地址码

- 操作码：操作码指明操作的类型
- 地址码：地址码主要指明操作数及运算结果存放的地址



##### 1.6.1.1、寻址方式

定义：寻址指令中操作数有效地址的方式称为寻址方式

- 立即寻址：操作数作为指令的一部分直接写在指令中，这种操作数称为立即数  （最快的）
- 寄存器寻址：操作数在寄存器
- 直接寻址：操作数在内存
- 寄存器间接寻址：
- 寄存器相对寻址：
- 基址加变址寻址方式：

- 相对基址加变址寻址：

##### 1.6.1.2、CISC和RISC

CISC(复杂指令集计算机)的基本思想是：增强原有指令，复杂的新指令取代原先子程序，导致及其的指令系统越来越庞大而复杂

RISC(精简指令集计算机)的基本思想是：减少指令总数和简化指令功能，降低硬件设计的复杂度

RISC的关键技术如下：

- 重叠寄存器窗口技术
- 优化编译技术
- 钞流水及超标量技术
- 硬布线逻辑与微程序



#### 1.6.2、指令的流水处理

##### 1.6.2.1、指令控制方式

指令控制方式有顺序方式、重叠方式和流水方式三种

- 顺序方式：执行完一个指令后再执行下一个
- 重叠方式：执行某个指令完成之前就已经在解释下一个指令了(相邻两个)

- 流水方式：多个子进程并发执行

##### 1.6.2.2、吞吐率和流水建立时间

吞吐率：单位时间里执行的指令数

建立时间：经过一定时间达到最大吞吐率

### 1.7、可靠性与系统性能评测

#### 1.7.1、计算机可靠性

计算机可靠性模型

串联系统：可靠性为R = R<sub>1</sub>*R<sub>2</sub>*R<sub>3</sub>.....     ， 失效率 S = S<sub>1</sub>+S<sub>2</sub>+S<sub>3</sub>....

并联系统：可靠性为R = 1-(1-R<sub>1</sub>) *(1-R<sub>2</sub>）*.... (1-R<sub>N</sub>)

提高计算机的可靠性：一是提高元器件的质量  二是发展容错技术



#### 1.7.2、计算机系统的性能评价

##### 1.7.2.1、性能评测常用方法

时钟频率：主频越快，速度越快

##### 1.7.2.2、基准测试程序

//目前一致一致承认的测性能的较好方法



## 2、计算机网络

### 2.1、网络与信息安全基础知识

#### 2.1.1、OSI/RM七层模型

| 层次 | 名称       | 主要功能                     | 主要设备及协议                                  |
| :--- | ---------- | ---------------------------- | ----------------------------------------------- |
| 7    | 应用层     | 实现具体的应用功能           | POP3、FTP、HTTP、Telnet                         |
| 6    | 表示层     | 数据的格式与表达、加密、压缩 | SMTP                                            |
| 5    | 会话层     | 建立、管理和终止会话         | DHCP、TFTP、SNMP、DNS                           |
| 4    | 传输层     | 端到端的连接                 | TCP、UDP                                        |
| 3    | 网络层     | 分组传输和路由选择           | 三层交换机、路由器、ARP、RARP、IP、ICMP、TGMP   |
| 2    | 数据链路层 | 传送以帧为单位的信息         | 网桥、交换机(多端口网桥)、网卡、PPTP、L2TP、PPP |
| 1    | 物理层     | 二进制传输                   | 中继器、集线器(Hub)                             |



#### 2.1.2、TCP/IP协议族

| 协议   | 端口          | 功能                                 |
| ------ | ------------- | ------------------------------------ |
| telnet | 23            | 远程登录                             |
| FTP    | 20数据/21控制 | 文件传输协议                         |
| SFTP   | 22            | 安全文件传输                         |
| HTTP   | 80            | 超文本传输协议，网页传输             |
| HTTPS  | 443           | 安全超文本传输协议                   |
| DNS    | 53            | 域名解析协议，记录域名与IP的映射关系 |
| DHCP   | 67            | IP地址自动分配                       |
| SMTP   | 25            | 邮件发送                             |
| POP3   | 110           | 邮件收取                             |
| SNMP   | 161           | 简单网络管理协议                     |



#### 2.1.3、IP地址

1、IP类型、网络号、主机号  

| IP类型 | 网络号            | 主机号                                         |
| ------ | ----------------- | ---------------------------------------------- |
| A      | 0   （1~127）     | 网络号除外的都是主机号(一般不用01，转成十进制) |
| B      | 10   （128~191）  |                                                |
| C      | 110   （192~223） |                                                |
| D      | 1110   （224~）   |                                                |
| E      | 11110             |                                                |

2、看开头多少个1 (二进制转十进制之快速口诀)

1个1：128

2个1：192

3个1：224

4个1：240

5个1：248

6个1：252

7个1：254

8个1：255

- 主机号全0则为：网络地址
- 主机号全1则为：广播地址



#### 2.1.4、子网划分

特点：向主机号借,做子网号

1、子网掩码（看网络号位数,全1）

2、将一个网络划分成多个子网（取部分主机号当子网号）



#### 2.1.6、计算机网络分类

按分布范围分：

- 局域网：LAN
- 城域网：MAN
- 广域网：WAN
- 因特网



#### 2.1.7、网络接入技术

有线接入：

- 公用交换电话网络（PSTN）
- 数字数据网（DDN）

无线：

- WIFI
- 蓝牙



#### 2.1.8、对称加密技术

特点：发送方与接收方用同一套密钥



#### 2.1.9、非对称加密技术

特点：发送方一套密钥，接收方一套密钥  （公钥和私钥是成对出现的）

过程：发送方用接收方的公钥加密，接收方用自己的私钥解密



#### 2.1.10、数字签名

特点：发送方签自己的私钥，然后接收方使用发送方的公钥进行验证

//先产生消息摘要(由一个数进行加密变成另一个数)，再进行签名

常用产生消息摘要的算法：MD5、SHA等



#### 2.1.11、消息摘要

消息摘要：由一个数进行加密变成另一个数



### 2.2、探索网络

#### 2.2.1、网络通信的三种方式

桥接、Host-Only、NAT

桥接模式：宿主机与虚拟机在同一个网段，所以宿主机无需为虚拟机提供虚拟网卡

Host-Only：不常用

NAT：宿主机与虚拟机的IP地址不是同一个网段，需要借助NAT地址

VMnet0：用于虚拟桥接网络下的虚拟交换机

VMnet1：用于虚拟Host-Only网络下的虚拟交换机

VMnet8：用于虚拟NAT网络下的虚拟交换机

VMware Network Adapter VMnet1：Host用于与Host-Only虚拟网络进行通信的虚拟网卡

VMware Network adater VMnet8：Host用于与NAT虚拟网络进行通信的虚拟网卡



#### 2.2.2、解释各种地址

网络地址：主机号全0

主机地址：主机号全1

网关地址：默认是可用地址的第一位或最后一位 例：192.168.1.1  

- 作用：不同网络段之间通信的枢纽，两个不同网络想要实现通信的话，必须经过彼此的网关

环回地址：127.0.0.1

网卡地址：又称MAC地址、物理地址

DNS地址：DNS服务器的地址，一般是自己所连接的网络服务商提供DNS服务器，当访问一个域名时，首先先通过DNS服务器进行域名解析



#### 2.2.3、域名的种类

按级别划分：顶级域名、二级域名、三级域名



#### 2.2.4、浏览器访问域名链路

1、当在浏览器输入域名，敲下回车时：

首先先找本地浏览器缓存是否有存储该域名解析过的IP地址，没有则查找本地Hosts文件是否配置了映射，再没有的话才用到DNS服务器进行解析了，先进行本地DNS解析（本地DNS服务器一般是由网络的服务商提供）





## 3、操作系统

### 3.1、文件系统的基本组成

文件系统（硬盘）是操作系统中负责管理持久数据的子系统，
Linux：一切皆文件。
Linux文件系统会为每个文件分配两个数据结构：索引节点(index node)和目录项(directory entry)，它们主要用来记录文件的元信息和目录层次结构。

- **索引节点：**也就是inode，用来记录文件的元信息，比如inode编号、文件大小、访问权限、创建时间、修改时间、**数据在磁盘的位置**等等。索引节点是文件的唯一标识，它们之间一一对应，也同样都会被存储在硬盘中，所以**索引节点同样占用磁盘空间。**
- **目录项：**也就是dentry，用来记录文件的名字、**索引节点指针**以及与其他目录项的层级关联关系。多个目录项关联起来，就会形成目录结构，但它与索引节点不同的是，**目录项是由内核维护的一个数据结构，不存放于磁盘，而是缓存在内存。**

由于索引节点唯一标识一个文件，而目录项记录着文件的名，所以目录项和索引节点的关系是多对一，也就是说，一个文件可以有多个别字。比如，硬链接的实现就是多个目录项中的索引节点指向同一个文件。//注：目录也是文件，也是索引节点唯一标识，和普通文件不同的是，普通文件在磁盘里面保存的是文件数据，而目录文件在磁盘里面保存子目录或文件。



**Q：文件数据是如何存储在磁盘的呢？**
A：磁盘读写的最小单位是**扇区**，扇区的大小只有512B大小，很明显，如果每次读写都以这么小为单位，那这读写的效率会非常低。所以文件系统把多个扇区组成了一个**逻辑块(数据块)**，每次读写的最小单位就是逻辑块，Linux中的逻辑块大小为4KB，也就是一次性读写8个扇区，这将大大提高了磁盘的读写的效率。

索引节点是存储在硬盘上的数据，那么为了加速文件的访问，通常会把索引节点加载到内存中。
//另外：磁盘进行格式化的时候，会被分为三个存储区域，分别是超级块、索引节点区和数据块区。

- **超级块：**用来存储文件系统的详细信息，比如块个数、块大小、空间块等等。
- **索引节点区：**用来存储索引节点索引节点区：用来存储索引节点
- **数据块区：**用来存储文件或目录数据

我们不可能把超级块和索引节点区全部加载到内存，这样内存肯定撑不住，所以只有当需要使用的时候，才将其加载进内存，它们加载进内存的时机是不同的：

- 超级块：当文件系统挂在时进入内存

- 索引节点区：当文件被访问时进入内存

//**总结**：一般情况下，我们通过一个访问路径去访问一个文件系统里面的文件时，首先会先去匹配超级块，匹配上路径信息，然后在直接访问路径对应的数据之前，会先去检索是否有索引节点指针指向该数据，有的话通过索引节点指针去访问会大大地加快访问速度。



### 3.2、虚拟文件系统

文件系统的种类众多，而操作系统希望**对用户提供一个统计的接口**，于是在用户层与文件系统层引入了中间层，这个中间层就被称为虚拟文件系统（VFS）。
VFS定义了一组所有文件系统都支持的数据结构和标准接口，这样程序员不需要了解文件系统的工作原理，只需要了解VFS提供的统一接口即可。
在LInux文件系统中，用户控件、系统调用、虚拟机文件系统、缓存、文件系统以及存储之间的关系如下图：

![image-20201222193349614](https://cdn.jsdelivr.net/gh/sphshenpeihong/javaPic/img/20201222193350.png)

Linux支持的文件系统也不少，根据存储位置的不同，可以把文件系统分为三类：

- **磁盘的文件系统**：它是直接把数据存储在磁盘中，比如Ext 2/3/4、XFS等都是这类文件系统。

- **内存的文件系统**：这类文件系统的数据不是存储在硬盘的，而是占用内存空间，我们经常用到/proc和/sys文件系统都属于这一类，读写这类文件，实际上是读写内核中相关的数据。

- **网络的文件系统**：用来访问其他计算机主机数据的文件系统，比如NFS、SMB等等

注：文件系统首先要先挂载到某个目录才可以正常使用，比如Linux系统在启动时，会把文件系统挂载到根目录。



### 3.3、文件的存储

文件的数据存储在硬盘上，存放的方式分两种：

- 连续空间存放方式

- 非连续空间存放方式（又分链表方式和索引方式）

#### 3.3.1、连续空间存放方式

连续空间存放方式就是文件存放在磁盘（连续的）物理空间中。读写效率很高，因为一次磁盘寻道就可以读出整个文件。
使用连续存放的方式有一个前提，必须先知道一个文件的大小，这样文件系统才会根据文件的大小在磁盘上找到一块连续的空间分配给文件。
所以，文件里需要指定"起始块的位置"和"长度"。有了这两个信息就可以很好的表示文件存放方式是一块连续的磁盘空间。
//连续空间存放的方式虽然读写效率高，但是有**磁盘空间碎片**和**文件长度不宜扩展**的缺陷。



#### 3.3.2、非连续空间存放方式

非连续空间存放方式分为：链表方式和索引方式
1、链表的方式
链表的方式存放是离散的，不用连续的，也是就可以消除磁盘碎片，同时文件的长度可以动态扩展，根据事先方式的不同，链表可分为隐式链表和显式链表两种形式：
//查找如果是从内存中进行的话，会大大地提高了检索速度，减少了IO操作。



### 3.4、空闲空间管理

Q：存储一个数据块，应当放在硬盘的哪个位置呢？
A：针对磁盘的空闲空间也是引入了管理的机制，引入了集中常见的方法：

- 空闲表法：空闲表法就是为所有空闲空间建立一张表，表内容包括空闲区的第一个块号和该空间去的块个数，注意，这个方式是**连续分配**的。
- 空闲链表法：每个空闲块里有一个指针指向下一个空闲块，我们也能很方便的找到空闲块并管理起来。
- 位图法



### 3.5、文件系统的结构

块组：许多数据块整合成一个大组，内容包括：

- **超级块**：包含的是文件系统的中啊哟信息，比如inode总个数、块总个数、每个块组的inode个数、每个块组的块个数等等。
- **块组描述符**：包含文件系统中各个块组的状态，比如块组中空闲块和inode的树木等，每个块组都包含了文件系统中**所有块组的组描述符信息**。
- **数据位图和inode位图**：用于表示对应的数据块或Inode是空闲的，还是被使用中。
- **inode列表**：包含了块组中所有的Inode，Inode用于保存文件系统中与各个文件和目录相关的所有元数据。
- **数据块**：包含文件的有用数据



### 3.6、目录的存储

在Linux中，目录也是一个文件。甚至可以用vim打开它，它也有inode，inode里面也是指向一些块。
和普通文件不同的是，普通文件的块里面保存的是文件数据，而目录文件的块里面保存的是目录里面一项一项的文件信息。



### 3.7、文件I/O

文件的读写方式各有千秋，对于文件的I/O分类也非常多，常见的有：

- 缓冲与非缓冲I/O

- 直接与非直接I/O
- 阻塞与非阻塞I/O VS 同步与异步I/O



**--------------------- 分割线 ------------------**
**页式存储管理**
块：将整个系统的内存空间划分成一系列**大小相等的块**，块物理地址按递增顺序连续编号0、1、2......
页：每个作业的地址空间也划分成一系列与内存块一样大小的块。
页大小=块大小







## 4、数据结构与算法



## 5、硬件相关知识

![6](https:cdn.jsdelivr.net/gh/sphshenpeihong/pic/img/20201209203143.png)